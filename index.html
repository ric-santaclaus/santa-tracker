<!-- python -m http.server 8000 there, and navigate to http://localhost:8000/yourfile.html -->

<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Santa Tracker Personalizzato</title>

  <style>
    html, body {
      margin: 0;
      padding: 0;
      background: #000;
      overflow: hidden;
      height: 100%;
    }

    .container {
      position: relative;
      width: 100vw;
      height: 100vh;
    }

    /* Video YouTube che riempie lo schermo */
    #player {
      width: 100%;
      height: 100%;
      border: none;
    }

    /* Barra superiore */
    .top-bar {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100px;
      background: rgb(0, 45, 90);
      color: #fff;
      font-family: Arial, Helvetica, sans-serif;
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-sizing: border-box;
      padding: 10px 40px;
      text-shadow: 0 0 4px #000;
      font-size: 16px;
      z-index: 9999;
    }

    .top-section {
      display: flex;
      flex-direction: column;
    }

    .label {
      font-size: 12px;
      opacity: 0.8;
    }

    .value {
      font-size: 18px;
      font-weight: bold;
    }

    
    .bottom-bar {
    position: absolute;
    bottom: 0;
    right: 0;
    width: 150px;
    height: 80px;
    background: black;
    box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.6);
    display: flex;
    align-items: center;
    justify-content: center;
    color: #fff;
    font-family: Arial, Helvetica, sans-serif;
    z-index: 9999;
    overflow: hidden;
  }

  .rsbn-cover {
    position: absolute;
    bottom: 42px;    /* appena sopra la barra rossa */
    right: 190px;     /* distanza dal bordo destro */
    width: 175px;
    height: 30px;
    background: red;     /* puoi cambiare colore */
    opacity: 1;          /* leggero effetto vetro */
    z-index: 9000;         /* sotto il bottone */
  }




  .bottom-text {
    position: relative;
    font-size: 24px;
    font-weight: bold;
    letter-spacing: 4px;
    text-transform: uppercase;
  }

  /* piccoli fiocchi di neve che si muovono piano */
  .snow {
    display: inline-block;
    animation: float 3s ease-in-out infinite;
  }

  .snow:last-child {
    animation-delay: 1.5s;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0); }
    50%      { transform: translateY(-6px); }
  }

    /* Bottone invisibile */
    #secretButton {
      position: absolute;
      top: 20px;
      right: 20px;
      width: 180px;
      height: 50px;
      opacity: 0;     
      border: none;
      background: transparent;
      /*opacity: 0.9;         
      background: black;       
      border: 2px solid white;*/
      cursor: pointer;
      z-index: 100000;
    }
  </style>
</head>

<body>
  <div class="container">

    <!-- VIDEO YOUTUBE -->
    <iframe
      id="player"
      src="https://www.youtube.com/embed/yInnIs2voyQ?autoplay=1&controls=0&mute=1&start=4267&loop=1&playlist=yInnIs2voyQ"
      allow="autoplay; encrypted-media"
      allowfullscreen>
    </iframe>

    <!-- BARRA SUPERIORE -->
    <div class="top-bar">
      <div class="top-section">
        <span class="label">LAST SEEN</span>
        <span id="lastSeen" class="value">Loading...</span>
      </div>

      <div class="top-section">
        <span class="label">HEADING FOR</span>
        <span id="headingFor" class="value">Loading...</span>
      </div>

      <div class="top-section" style="text-align:right;">
        <span class="label">GIFTS DELIVERED</span>
        <span id="gifts" class="value">0</span>
      </div>
    </div>

    <!-- BANNER -->
    <div class="bottom-bar"></div>

    <!-- BOTTONE INVISIBILE -->
    <button id="secretButton"></button>

    <div class="rsbn-cover"></div>
    

  </div>

  <script>
    /* --- FORZA LA TUA CITT√Ä --- */
    function forceMyTown(townName, seconds = 20) {
      stops.unshift({
        lastSeen: stops[index].lastSeen,
        heading: townName,
        countdown: seconds
      });

      index = 0;
      timeLeft = stops[0].countdown;
    }

    /* Bottone invisibile ‚Üí va a Torino */
    document.getElementById("secretButton").addEventListener("click", () => {
      forceMyTown("Turin, Italy", 400);
    });

    /* Countdown formattato */
    function formatTime(seconds) {
      if (seconds < 60) return `${seconds} seconds`;
      const mins = Math.floor(seconds / 60);
      const secs = seconds % 60;
      if (secs === 0) return `${mins} minute${mins > 1 ? "s" : ""}`;
      return `${mins} minute${mins > 1 ? "s" : ""} ${secs} seconds`;
    }

  // Lista delle tappe
  const stops = [
  // üåé NORD AMERICA
  { lastSeen: "St. John's, Canada", heading: "Montreal, Canada", countdown: 300 },
  { lastSeen: "Montreal, Canada", heading: "Toronto, Canada", countdown: 300 },
  { lastSeen: "Toronto, Canada", heading: "New York, USA", countdown: 240 },
  { lastSeen: "New York, USA", heading: "Philadelphia, USA", countdown: 180 },
  { lastSeen: "Philadelphia, USA", heading: "Washington, D.C., USA", countdown: 180 },
  { lastSeen: "Washington, D.C., USA", heading: "Atlanta, USA", countdown: 300 },
  { lastSeen: "Atlanta, USA", heading: "Miami, USA", countdown: 300 },
  { lastSeen: "Miami, USA", heading: "Mexico City, Mexico", countdown: 200 },

  // üåé AMERICA CENTRALE & SUD
  { lastSeen: "Mexico City, Mexico", heading: "Guatemala City, Guatemala", countdown: 240 },
  { lastSeen: "Guatemala City, Guatemala", heading: "Panama City, Panama", countdown: 200 },
  { lastSeen: "Panama City, Panama", heading: "Bogot√°, Colombia", countdown: 360 },
  { lastSeen: "Bogot√°, Colombia", heading: "Buenos Aires, Argentina", countdown: 300 },
  { lastSeen: "Buenos Aires, Argentina", heading: "Rio de Janeiro, Brazil", countdown: 300 },
  { lastSeen: "Rio de Janeiro, Brazil", heading: "S√£o Paulo, Brazil", countdown: 240 },
  { lastSeen: "S√£o Paulo, Brazil", heading: "Tokyo, Japan", countdown: 240 },
  // üåè ASIA ORIENTALE
  { lastSeen: "Tokyo, Japan", heading: "Osaka, Japan", countdown: 240 },
  { lastSeen: "Osaka, Japan", heading: "Seoul, South Korea", countdown: 300 },
  { lastSeen: "Seoul, South Korea", heading: "Beijing, China", countdown: 240 },
  { lastSeen: "Beijing, China", heading: "Shanghai, China", countdown: 300 },
  { lastSeen: "Shanghai, China", heading: "Hong Kong, China", countdown: 230 },

  // üåè SUD-EST ASIA
  { lastSeen: "Hong Kong, China", heading: "Bangkok, Thailand", countdown: 300 },
  { lastSeen: "Bangkok, Thailand", heading: "Singapore", countdown: 330 },
  { lastSeen: "Singapore", heading: "Delhi, India", countdown: 300 },
  { lastSeen: "Delhi, India", heading: "Mumbai, India", countdown: 180 },

  // üåç MIDDLE EAST
  { lastSeen: "Mumbai, India", heading: "Dubai, UAE", countdown: 320 },
  { lastSeen: "Dubai, UAE", heading: "Doha, Qatar", countdown: 240 },

  // üåç EUROPA ORIENTALE
  { lastSeen: "Jerusalem, Israel", heading: "Istanbul, Turkey", countdown: 300 },
  { lastSeen: "Istanbul, Turkey", heading: "Athens, Greece", countdown: 300 },
  { lastSeen: "Athens, Greece", heading: "Sofia, Bulgaria", countdown: 240 },
  { lastSeen: "Sofia, Bulgaria", heading: "Bucharest, Romania", countdown: 240 },
  { lastSeen: "Bucharest, Romania", heading: "Budapest, Hungary", countdown: 300 },

  // üåç EUROPA CENTRALE
  { lastSeen: "Budapest, Hungary", heading: "Vienna, Austria", countdown: 240 },
  { lastSeen: "Vienna, Austria", heading: "Prague, Czech Republic", countdown: 240 },
  { lastSeen: "Prague, Czech Republic", heading: "Berlin, Germany", countdown: 300 },
  { lastSeen: "Berlin, Germany", heading: "Hamburg, Germany", countdown: 240 },
  { lastSeen: "Hamburg, Germany", heading: "Copenhagen, Denmark", countdown: 300 },

  // üåç EUROPA OCCIDENTALE
  { lastSeen: "Copenhagen, Denmark", heading: "Amsterdam, Netherlands", countdown: 190 },
  { lastSeen: "Amsterdam, Netherlands", heading: "Brussels, Belgium", countdown: 240 },
  { lastSeen: "Brussels, Belgium", heading: "Paris, France", countdown: 300 },
  { lastSeen: "Paris, France", heading: "Lyon, France", countdown: 240 },
  { lastSeen: "Lyon, France", heading: "Nice, France", countdown: 300 },
  { lastSeen: "Nice, France", heading: "Lisbon, Portugal", countdown: 300 },


  // üåç RITORNO IN EUROPA

  // üáÆüáπ ITALIA
  { lastSeen: "Lisbon, Portugal", heading: "Catania, Italy", countdown: 480 },
  { lastSeen: "Catania, Italy", heading: "Naples, Italy", countdown: 180 },
  { lastSeen: "Naples, Italy", heading: "Roma, Italy", countdown: 240 },
  { lastSeen: "Rome, Italy", heading: "Bologna, Italy", countdown: 240 },
  { lastSeen: "Bologna, Italy", heading: "Milan, Italy", countdown: 180 },
  { lastSeen: "Milan, Italy", heading: "Aosta, Italy", countdown: 180 }

];

  let index = 0;
    let timeLeft = stops[index].countdown;

    /* Pacchi */
    let giftsDelivered = 3684123;
    const giftsPerSecondMin = 5000;
    const giftsPerSecondMax = 20000;

    /* Aggiorna barra */
    function updateBar() {
      const stop = stops[index];
      document.getElementById("lastSeen").textContent = stop.lastSeen;
      document.getElementById("headingFor").textContent =
        `${stop.heading} in ${formatTime(timeLeft)}`;
      document.getElementById("gifts").textContent =
        formatNumber(giftsDelivered);
    }

    function formatNumber(n) {
      return n.toLocaleString("en-US");
    }

    /* Timer */
    function tick() {
      timeLeft--;

      giftsDelivered +=
        Math.floor(Math.random() * (giftsPerSecondMax - giftsPerSecondMin + 1)) +
        giftsPerSecondMin;

      if (timeLeft <= 0) {
        index = (index + 1) % stops.length;
        timeLeft = stops[index].countdown;
      }

      updateBar();
    }

    /* Avvio */
    updateBar();
    setInterval(tick, 1000);
  </script>

</body>
</html>
